
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog | EliasChang</title>
    <link rel="icon" href="../../../images/logo/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="../../../css/style.css">
    <link rel="stylesheet" href="../../../css/fonts.css">
    <link rel="stylesheet" href="../../../css/md.css">
</head>
<body>
    <!-- 1.页眉 -->
    <div id="header">

        <!-- 1.1.页首栏 -->
        <div id="headbar">
            <a href="../../blog.html"><img id="back" src="https://cdn.jsdelivr.net/gh/eliaszwc/eliaszwc.github.io/images/component/backButton.png" width="50"></a>
            <b id="pageTitle">BLOG</b>
        </div>

    </div>

    <!-- 2.内容 -->
    <main>
        <div id="markdownContent">
            <hr />

<p>title: 【笔记】Kotlin语言（二）——数据类型
description: Kotlin语言笔记第二部分，认识Kotlin数据类型，掌握数据类型的强制转换与数学运算。
author: eliaszwc
date: 2024-02-14 12:00:00 +0800
categories: [【工程学】信息科学, 【基础】Kotlin语言]
tags: [Kotlin]
pin: false
math: true
mermaid: true
image:</p>

<h2>  path: /covers/kotlin.png</h2>

<h2>一、基本数据类型</h2>

<h3>（一）整数类型</h3>

<p>在 Kotlin 中，整数类型表示整数值。Kotlin 提供了多个整数类型，以便根据需求选择合适的类型。</p>

<table>
<thead>
<tr>
  <th>类型</th>
  <th>关键字</th>
  <th>位宽</th>
  <th>最小值</th>
  <th>最大值</th>
</tr>
</thead>
<tbody>
<tr>
  <td>字节型</td>
  <td>Byte</td>
  <td>8</td>
  <td>-128</td>
  <td>127</td>
</tr>
<tr>
  <td>短整型</td>
  <td>Short</td>
  <td>16</td>
  <td>-32768</td>
  <td>32767</td>
</tr>
<tr>
  <td>整型</td>
  <td>Int</td>
  <td>32</td>
  <td>-2^31</td>
  <td>2^31-1</td>
</tr>
<tr>
  <td>长整型</td>
  <td>Long</td>
  <td>64</td>
  <td>-2^63</td>
  <td>2^63-1</td>
</tr>
</tbody>
</table>

<p>在计算机当中，最小的数据存储单位就是<strong>位（Bit）</strong>，而所有数字在储存的时候，都是二进制储存，而二进制中，8位称之为1个<strong>字节（Byte）</strong>，位宽则是数据占用的位的总数。可以看到，不同的数据类型就占用了不同的位宽。
下面是对各种整数类型的变量声明示例。</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="c1">// 默认是Int类型</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">bigNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8000000000</span><span class="w"> </span><span class="c1">// 超过Int最大值，默认为Long类型</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">longNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20L</span><span class="w"> </span><span class="c1">// 在赋值数字后面增加后缀L声明Long类型</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">byteNumber</span><span class="p">:</span><span class="kt">Byte</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="c1">//在变量后用冒号声明Byte类型，再进行赋值</span>
</code></pre>
</div>

<p>值得注意的是，所有未超过<code>Int</code>最大值的整型值初始化的变量都默认为<code>Int</code>类型，如果初始值超过了其最大值，那么将推断为<code>Long</code>类型。</p>

<h3>（二）浮点类型</h3>

<p>在 Kotlin 中，浮点类型表示带有小数部分的数字。Kotlin 提供了两种浮点类型：Float 和 Double。</p>

<table>
<thead>
<tr>
  <th>类型</th>
  <th>关键字</th>
  <th>位宽</th>
</tr>
</thead>
<tbody>
<tr>
  <td>浮点型</td>
  <td>Float</td>
  <td>32</td>
</tr>
<tr>
  <td>双精度浮点型</td>
  <td>Double</td>
  <td>64</td>
</tr>
</tbody>
</table>

<p>下面是对两种浮点数类型的变量声明示例。</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">defaultDouble</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3.14</span><span class="w"> </span><span class="c1">// 输入小数默认为Double类型</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">doubleNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3.1415926535</span><span class="w"> </span><span class="c1">// 小数位超过6位也默认是Double类型</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">floatNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3.1415926535f</span><span class="w"> </span><span class="c1">// 在赋值数字后面增加后缀f声明Float类型</span>
</code></pre>
</div>

<p>Kotlin对于小数的默认推断是<code>Double</code>类型。如果需要显式地将一个小数指定为<code>Float</code>类型，则需要在数值尾部加入<code>f</code>或者<code>F</code>的字母后缀。由于<code>Float</code>类型十进位数是6位，所以上述示例中<code>floatNumber</code>实际值大小为<code>3.1415927</code>，后面就会出现进度丢失舍弃。</p>

<h3>（三）字符类型</h3>

<p>在 Kotlin 中，字符类型表示单个字符。Kotlin 使用<code>Char</code> 类型来表示字符。<code>Char</code> 类型是一个 16 位的无符号整数，可表示 Unicode 字符。</p>

<p>要声明一个字符变量，可以使用 <code>char</code>或者<code>Char</code> 关键字，并使用单引号<code>''</code>将字符括起来。</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">letter</span><span class="p">:</span><span class="w"> </span><span class="kt">Char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="c1">// 用单引号括起来的单个字符</span>
</code></pre>
</div>

<h3>（四）布尔类型</h3>

<p>在 Kotlin 中，布尔类型用于表示逻辑值。Kotlin 提供了一个 <code>Boolean</code> 类型，只有两个可能的取值：<code>true</code> 和 <code>false</code>。</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">isVisible0</span><span class="p">:</span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="c1">// 布尔值中的假，返回0</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">isVisible1</span><span class="p">:</span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="c1">// 布尔值中的真，返回1</span>
</code></pre>
</div>

<h2>二、字符串</h2>

<p>在 Kotlin 中，String 被视为引用类型，并且不属于基本数据类型。然而，由于 Kotlin 对于基本数据类型提供了很多方便的语法和操作符，使得它们在使用上更接近于原始类型。在 Kotlin 中，这些基本数据类型具有与引用类型类似的行为，并且享受了编译器对它们的多态优化。</p>

<p>String 类型是不可变的，也就是说，一旦创建了一个字符串对象，就不能对其进行修改。如果需要修改字符串，可以使用字符串的一些方法和操作符来创建新的字符串对象。</p>

<h3>（一）字符串定义</h3>

<p>要声明一个字符串变量，可以使用 <code>String</code> 关键字，并使用双引号<code>""</code>将字符串括起来。</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">str</span><span class="p">:</span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1234567890&quot;</span>
</code></pre>
</div>

<p>由于字符串String被视为引用类型，就可以通过<code>[]</code>引用来访问字符串中具体的某个字符。</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">str</span><span class="p">:</span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1234567890&quot;</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">strNumber2</span><span class="p">:</span><span class="kt">Char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="c1">// 元素计数从0开始，1即代表第二个</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;strNumber2:&quot;</span><span class="o">+</span><span class="n">strNumber2</span><span class="p">)</span>
</code></pre>
</div>

<p>通过<code>println</code>可以打印出<code>strNumber2</code>的结果。返回结果如下。</p>

<blockquote>
  <p>strNumber2:2</p>
</blockquote>

<p>由此可以确定，通过访问具体的元素，可以从字符串中单独取出并输出。</p>

<h3>（二）字符串模板</h3>

<p>字符串字面值可以包含<strong>模板表达式</strong>，即一些小段代码，会求值并把结果合并到字符串中。模板表达式以美元符<code>$</code>开头，有一个简单的名字构成。</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;The result is </span><span class="si">$</span><span class="n">number</span><span class="s">&quot;</span><span class="p">)</span>
</code></pre>
</div>

<p>返回结果如下。</p>

<blockquote>
  <p>The result is 100</p>
</blockquote>

<p>不仅是简单的变量名，使用<code>${}</code>括起来的任意表达式都能够在字符串中被识别为代码输出。</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;This is text&quot;</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;Text length is </span><span class="si">${</span><span class="n">text</span><span class="p">.</span><span class="na">length</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
</code></pre>
</div>

<p>其中，<code>text.length</code>是访问了<code>text</code>的衡量长度方法，可以得到变量的长度。
返回结果如下。</p>

<blockquote>
  <p>Text length is 12</p>
</blockquote>

<p>同时，字符串与转义字符串内部都支持模板，如果需要在原始字符串中表示字面值美元符<code>$</code>，则可以使用下列语法。</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;</span><span class="si">${</span><span class="sc">&#39;$&#39;</span><span class="si">}</span><span class="s">9.99 &quot;</span>
</code></pre>
</div>

<p>输出结果如下。</p>

<blockquote>
  <p>$9.99</p>
</blockquote>

<h3>（三）字符串拼接</h3>

<p>Kotlin的字符串可以使用加法操作符<code>+</code>实现字符串的拼接，不仅适用于连接字符串和字符串，同时也支持连接字符串与其他类型的值。</p>

<div class="codehilite">
<pre><span></span><code><span class="n">println</span><span class="p">(</span><span class="s">&quot;I am &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; years old!&quot;</span><span class="p">)</span>
</code></pre>
</div>

<p>返回结果如下。</p>

<blockquote>
  <p>I am 10 years old!</p>
</blockquote>

<h3>（四）字符串转义</h3>

<p>Kotlin有两种类型的字符串字面值：转义字符串可以有转义字符，以及原始字符串可以包含换行以及任意文本。转义字符有以下用法：</p>

<ul>
<li>使用<code>\n</code>换行</li>
<li>使用反斜杠<code>\</code>对双引号<code>""</code>进行转义</li>
<li>使用三个引号即分界符<code>"""</code>将内部任何字符转换为字符串，还可以通过使用<code>trimMargin()</code>函数去除前导空格</li>
</ul>

<p>具体示例如下。</p>

<div class="codehilite">
<pre><span></span><code><span class="n">println</span><span class="p">(</span><span class="s">&quot;Hello\nWorld!&quot;</span><span class="p">)</span><span class="c1">// \n换行 </span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;He says:\&quot;Yes!\&quot;&quot;</span><span class="p">)</span><span class="c1">// \反斜杠转义双引号 </span>
<span class="n">println</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        val number = 1</span>
<span class="s">        val char = &#39;c&#39;</span>
<span class="s">    &quot;&quot;&quot;</span><span class="p">.</span><span class="na">trimIndent</span><span class="p">()</span>
<span class="p">)</span><span class="c1">// 分界符内部没有转义并且可以包含换行以及其他任何字符</span>
</code></pre>
</div>

<p>返回结果如下。</p>

<blockquote>
  <p>Hello
  World!
  He says, "Yes!"
  val number = 1
  val char = 'c'</p>
</blockquote>

<h2>三、类型强制转换</h2>

<p>数据类型之间可以通过调用<code>toType()</code>方法来强行转换类型。</p>

<table>
<thead>
<tr>
  <th>转换类型</th>
  <th>方法</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Byte</td>
  <td><code>toByte()</code></td>
</tr>
<tr>
  <td>Short</td>
  <td><code>toShort()</code></td>
</tr>
<tr>
  <td>Int</td>
  <td><code>toInt()</code></td>
</tr>
<tr>
  <td>Long</td>
  <td><code>toLong()</code></td>
</tr>
<tr>
  <td>Float</td>
  <td><code>toFloat()</code></td>
</tr>
<tr>
  <td>Double</td>
  <td><code>toDouble()</code></td>
</tr>
<tr>
  <td>Char</td>
  <td><code>toChar()</code></td>
</tr>
<tr>
  <td>String</td>
  <td><code>toString()</code></td>
</tr>
</tbody>
</table>

<p>示例如下。</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">before</span><span class="p">:</span><span class="kt">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;transform to string:</span><span class="si">${</span><span class="n">before</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
</code></pre>
</div>

<p>返回结果如下。</p>

<blockquote>
  <p>transform to string:100</p>
</blockquote>

<h2>四、数学运算</h2>

<h3>（一）常见运算</h3>

<p>在 Kotlin 中，支持以下常见的算术运算符：</p>

<table>
<thead>
<tr>
  <th>符号</th>
  <th>名称</th>
  <th>作用</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>+</code></td>
  <td>加法运算符</td>
  <td>用于执行两个操作数的相加运算</td>
</tr>
<tr>
  <td><code>-</code></td>
  <td>减法运算符</td>
  <td>用于执行两个操作数的相减运算</td>
</tr>
<tr>
  <td><code>*</code></td>
  <td>乘法运算符</td>
  <td>用于执行两个操作数的相乘运算</td>
</tr>
<tr>
  <td><code>/</code></td>
  <td>除法运算符</td>
  <td>用于执行两个操作数的相除运算</td>
</tr>
<tr>
  <td><code>%</code></td>
  <td>取模运算符</td>
  <td>用于获取两个操作数相除后的余数</td>
</tr>
<tr>
  <td><code>++</code></td>
  <td>自增运算符</td>
  <td>用于将操作数的值增加1</td>
</tr>
<tr>
  <td><code>--</code></td>
  <td>自减运算符</td>
  <td>用于将操作数的值减少1</td>
</tr>
</tbody>
</table>

<h3>（二）位运算</h3>

<p>Kotlin中的位运算采用了中缀函数方式调用具名函数。</p>

<table>
<thead>
<tr>
  <th>使用</th>
  <th>名称</th>
  <th>描述</th>
  <th>示例</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>and</code>或<code>&amp;</code></td>
  <td>位与</td>
  <td>对两个二进制数的对应位进行与操作，只有当两个位都为1时，结果位才为1</td>
  <td><code>a and b</code>或 <code>a &amp; b</code></td>
</tr>
<tr>
  <td><code>or</code>或<code>|</code></td>
  <td>位或</td>
  <td>对两个二进制数的对应位进行或操作，只有当至少一个位为1时，结果位才为1</td>
  <td><code>a or b</code> 或<code>a | b</code></td>
</tr>
<tr>
  <td><code>xor</code>或<code>^</code></td>
  <td>位异或</td>
  <td>对两个二进制数的对应位进行异或操作，只有当两个位不相同时，结果位才为1</td>
  <td><code>a xor b</code>或<code>a ^ b</code></td>
</tr>
<tr>
  <td><code>inv</code>或<code>！</code></td>
  <td>位非</td>
  <td>对一个二进制数的每个位取反，0 变为 1，1 变为 0</td>
  <td><code>inv(a)</code>或<code>!a</code></td>
</tr>
<tr>
  <td><code>shl</code>或<code>&lt;&lt;</code></td>
  <td>左移</td>
  <td>将一个二进制数的所有位向左移动指定的位数，左侧的位将被丢弃，右侧空出的位用0填充</td>
  <td><code>a shl b</code>或<code>a &lt;&lt; b</code></td>
</tr>
<tr>
  <td><code>shr</code>或<code>&gt;&gt;</code></td>
  <td>右移</td>
  <td>将一个二进制数的所有位向右移动指定的位数，右侧的位将被丢弃，左侧空出的位用符号位填充（对于正数用0填充）</td>
  <td><code>a shr b</code>或<code>a &gt;&gt; b</code></td>
</tr>
<tr>
  <td><code>ushr</code>或<code>&gt;&gt;&gt;</code></td>
  <td>无符号右移</td>
  <td>将一个二进制数的所有位向右移动指定的位数，右侧的位将被丢弃，左侧空出的位用0填充</td>
  <td><code>a ushr b</code>或<code>a &gt;&gt;&gt; b</code></td>
</tr>
</tbody>
</table>
 <!-- python注入接口 -->
        </div>
    </main>
    
    <!-- JS文件 -->
    <script src="../../../js/main.js"></script>
    <script src="../../../js/md.js"></script>

</body>
</html>
